<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vscode 扩展开发 | 阿离王-前端分享</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" type="image/png" href="/myBlog/logo.jpg">
    <link rel="manifest" href="/myBlog/manifest.json">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_2343212_wc0gkht90m.css">
    <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <script>
            // 百度统计
            var _hmt = _hmt || [];
            (function() {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?b867e5073a751b691958d2066964b07b";
                var s = document.getElementsByTagName("script")[0]; 
                s.parentNode.insertBefore(hm, s);
            })();
            
            // 引入谷歌统计,不需要可删除这段
            (function() {
                var hm1 = document.createElement("script");
                hm1.src = "https://www.googletagmanager.com/gtag/js?id=G-E76M3WVRT6";
                var s1 = document.getElementsByTagName("script")[0]; 
                s1.parentNode.insertBefore(hm1, s1);
            })();

            // 谷歌加载,不需要可删除
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-E76M3WVRT6');
        </script>
    <meta name="description" content="阿离王-前端分享笔记">
    
    <link rel="preload" href="/myBlog/assets/css/0.styles.a0db8047.css" as="style"><link rel="preload" href="/myBlog/assets/js/app.4ba5bfaa.js" as="script"><link rel="preload" href="/myBlog/assets/js/3.553f6c3a.js" as="script"><link rel="preload" href="/myBlog/assets/js/2.383a70a7.js" as="script"><link rel="preload" href="/myBlog/assets/js/130.7493e162.js" as="script"><link rel="preload" href="/myBlog/assets/js/9.8651d337.js" as="script"><link rel="prefetch" href="/myBlog/assets/js/10.5667e96b.js"><link rel="prefetch" href="/myBlog/assets/js/100.026930ed.js"><link rel="prefetch" href="/myBlog/assets/js/101.5ed5da40.js"><link rel="prefetch" href="/myBlog/assets/js/102.a25fb263.js"><link rel="prefetch" href="/myBlog/assets/js/103.a37f7513.js"><link rel="prefetch" href="/myBlog/assets/js/104.219b2d0a.js"><link rel="prefetch" href="/myBlog/assets/js/105.29ed6eb0.js"><link rel="prefetch" href="/myBlog/assets/js/106.e65195bc.js"><link rel="prefetch" href="/myBlog/assets/js/107.74bd4e70.js"><link rel="prefetch" href="/myBlog/assets/js/108.bd9f41e6.js"><link rel="prefetch" href="/myBlog/assets/js/109.7020b196.js"><link rel="prefetch" href="/myBlog/assets/js/11.df2b365d.js"><link rel="prefetch" href="/myBlog/assets/js/110.b9b7891c.js"><link rel="prefetch" href="/myBlog/assets/js/111.10b9ede6.js"><link rel="prefetch" href="/myBlog/assets/js/112.0aa4be25.js"><link rel="prefetch" href="/myBlog/assets/js/113.504ade56.js"><link rel="prefetch" href="/myBlog/assets/js/114.67f6162c.js"><link rel="prefetch" href="/myBlog/assets/js/115.850eec11.js"><link rel="prefetch" href="/myBlog/assets/js/116.36ac05e1.js"><link rel="prefetch" href="/myBlog/assets/js/117.fe4b3847.js"><link rel="prefetch" href="/myBlog/assets/js/118.675af308.js"><link rel="prefetch" href="/myBlog/assets/js/119.091af631.js"><link rel="prefetch" href="/myBlog/assets/js/12.35990129.js"><link rel="prefetch" href="/myBlog/assets/js/120.786c198b.js"><link rel="prefetch" href="/myBlog/assets/js/121.f2bb35d4.js"><link rel="prefetch" href="/myBlog/assets/js/122.87a7f677.js"><link rel="prefetch" href="/myBlog/assets/js/123.c9c06d07.js"><link rel="prefetch" href="/myBlog/assets/js/124.ff8e36c9.js"><link rel="prefetch" href="/myBlog/assets/js/125.ade7d3b7.js"><link rel="prefetch" href="/myBlog/assets/js/126.28d9534e.js"><link rel="prefetch" href="/myBlog/assets/js/127.ec629aca.js"><link rel="prefetch" href="/myBlog/assets/js/128.54cbbb8d.js"><link rel="prefetch" href="/myBlog/assets/js/129.21b547da.js"><link rel="prefetch" href="/myBlog/assets/js/13.9d3248c2.js"><link rel="prefetch" href="/myBlog/assets/js/131.0b4819b9.js"><link rel="prefetch" href="/myBlog/assets/js/132.0e549cb5.js"><link rel="prefetch" href="/myBlog/assets/js/133.2f026438.js"><link rel="prefetch" href="/myBlog/assets/js/134.60f1b954.js"><link rel="prefetch" href="/myBlog/assets/js/135.ff2c35ec.js"><link rel="prefetch" href="/myBlog/assets/js/136.8c9cb988.js"><link rel="prefetch" href="/myBlog/assets/js/137.07a05e63.js"><link rel="prefetch" href="/myBlog/assets/js/138.cceee184.js"><link rel="prefetch" href="/myBlog/assets/js/139.9a7abcbc.js"><link rel="prefetch" href="/myBlog/assets/js/14.4672de5a.js"><link rel="prefetch" href="/myBlog/assets/js/140.0c420b5c.js"><link rel="prefetch" href="/myBlog/assets/js/141.773aac34.js"><link rel="prefetch" href="/myBlog/assets/js/142.ed70a961.js"><link rel="prefetch" href="/myBlog/assets/js/143.69e7f266.js"><link rel="prefetch" href="/myBlog/assets/js/144.6116ad52.js"><link rel="prefetch" href="/myBlog/assets/js/145.54b4c5d8.js"><link rel="prefetch" href="/myBlog/assets/js/146.d6b1ae16.js"><link rel="prefetch" href="/myBlog/assets/js/147.bfb7c815.js"><link rel="prefetch" href="/myBlog/assets/js/148.2467f5d2.js"><link rel="prefetch" href="/myBlog/assets/js/149.2a2a9bea.js"><link rel="prefetch" href="/myBlog/assets/js/15.c2538456.js"><link rel="prefetch" href="/myBlog/assets/js/150.bd0a44e6.js"><link rel="prefetch" href="/myBlog/assets/js/151.13fcb84d.js"><link rel="prefetch" href="/myBlog/assets/js/152.c5db66b0.js"><link rel="prefetch" href="/myBlog/assets/js/153.67626aff.js"><link rel="prefetch" href="/myBlog/assets/js/154.10b005b0.js"><link rel="prefetch" href="/myBlog/assets/js/155.7117978f.js"><link rel="prefetch" href="/myBlog/assets/js/156.0a66abbb.js"><link rel="prefetch" href="/myBlog/assets/js/157.f5e8dcd0.js"><link rel="prefetch" href="/myBlog/assets/js/158.f8bb2419.js"><link rel="prefetch" href="/myBlog/assets/js/159.15dfd559.js"><link rel="prefetch" href="/myBlog/assets/js/16.385c15b0.js"><link rel="prefetch" href="/myBlog/assets/js/160.20ab73fd.js"><link rel="prefetch" href="/myBlog/assets/js/17.509ad3af.js"><link rel="prefetch" href="/myBlog/assets/js/18.639170c9.js"><link rel="prefetch" href="/myBlog/assets/js/19.543102fe.js"><link rel="prefetch" href="/myBlog/assets/js/20.788bf6ff.js"><link rel="prefetch" href="/myBlog/assets/js/21.1b85b0e7.js"><link rel="prefetch" href="/myBlog/assets/js/22.dd82c6e4.js"><link rel="prefetch" href="/myBlog/assets/js/23.3257f308.js"><link rel="prefetch" href="/myBlog/assets/js/24.ff9c6dfc.js"><link rel="prefetch" href="/myBlog/assets/js/25.3d86ff9a.js"><link rel="prefetch" href="/myBlog/assets/js/26.fae4404f.js"><link rel="prefetch" href="/myBlog/assets/js/27.3e0c0eb0.js"><link rel="prefetch" href="/myBlog/assets/js/28.0d4cebfa.js"><link rel="prefetch" href="/myBlog/assets/js/29.78cb064f.js"><link rel="prefetch" href="/myBlog/assets/js/30.d705b76f.js"><link rel="prefetch" href="/myBlog/assets/js/31.2f82f12c.js"><link rel="prefetch" href="/myBlog/assets/js/32.74e35dfd.js"><link rel="prefetch" href="/myBlog/assets/js/33.dc9957cd.js"><link rel="prefetch" href="/myBlog/assets/js/34.a985534d.js"><link rel="prefetch" href="/myBlog/assets/js/35.35dd4d5a.js"><link rel="prefetch" href="/myBlog/assets/js/36.fa73c5b6.js"><link rel="prefetch" href="/myBlog/assets/js/37.7090639e.js"><link rel="prefetch" href="/myBlog/assets/js/38.b203cf72.js"><link rel="prefetch" href="/myBlog/assets/js/39.2a24ce59.js"><link rel="prefetch" href="/myBlog/assets/js/4.530d0f40.js"><link rel="prefetch" href="/myBlog/assets/js/40.48cb1685.js"><link rel="prefetch" href="/myBlog/assets/js/41.4e029f77.js"><link rel="prefetch" href="/myBlog/assets/js/42.faee5282.js"><link rel="prefetch" href="/myBlog/assets/js/43.3c22a644.js"><link rel="prefetch" href="/myBlog/assets/js/44.2c9eda87.js"><link rel="prefetch" href="/myBlog/assets/js/45.bd41351d.js"><link rel="prefetch" href="/myBlog/assets/js/46.6bbdd594.js"><link rel="prefetch" href="/myBlog/assets/js/47.11045cf9.js"><link rel="prefetch" href="/myBlog/assets/js/48.4c8082c3.js"><link rel="prefetch" href="/myBlog/assets/js/49.a3485775.js"><link rel="prefetch" href="/myBlog/assets/js/5.f156d2f9.js"><link rel="prefetch" href="/myBlog/assets/js/50.314b76f2.js"><link rel="prefetch" href="/myBlog/assets/js/51.6e15a4a1.js"><link rel="prefetch" href="/myBlog/assets/js/52.7eb9a211.js"><link rel="prefetch" href="/myBlog/assets/js/53.045eaf88.js"><link rel="prefetch" href="/myBlog/assets/js/54.6ac61812.js"><link rel="prefetch" href="/myBlog/assets/js/55.e0c4b4a3.js"><link rel="prefetch" href="/myBlog/assets/js/56.86f0472b.js"><link rel="prefetch" href="/myBlog/assets/js/57.9a314f24.js"><link rel="prefetch" href="/myBlog/assets/js/58.6137cb5a.js"><link rel="prefetch" href="/myBlog/assets/js/59.4199a1cf.js"><link rel="prefetch" href="/myBlog/assets/js/6.adba8f37.js"><link rel="prefetch" href="/myBlog/assets/js/60.f7e365c9.js"><link rel="prefetch" href="/myBlog/assets/js/61.5d431bb9.js"><link rel="prefetch" href="/myBlog/assets/js/62.78679706.js"><link rel="prefetch" href="/myBlog/assets/js/63.58209586.js"><link rel="prefetch" href="/myBlog/assets/js/64.cecf37d3.js"><link rel="prefetch" href="/myBlog/assets/js/65.9bb63e23.js"><link rel="prefetch" href="/myBlog/assets/js/66.5001470c.js"><link rel="prefetch" href="/myBlog/assets/js/67.502be0ae.js"><link rel="prefetch" href="/myBlog/assets/js/68.850b0d7d.js"><link rel="prefetch" href="/myBlog/assets/js/69.a125fcb7.js"><link rel="prefetch" href="/myBlog/assets/js/7.381ca64b.js"><link rel="prefetch" href="/myBlog/assets/js/70.84b8a555.js"><link rel="prefetch" href="/myBlog/assets/js/71.ef39a00e.js"><link rel="prefetch" href="/myBlog/assets/js/72.de23d741.js"><link rel="prefetch" href="/myBlog/assets/js/73.7952e9da.js"><link rel="prefetch" href="/myBlog/assets/js/74.ebbc77e1.js"><link rel="prefetch" href="/myBlog/assets/js/75.046c75a5.js"><link rel="prefetch" href="/myBlog/assets/js/76.0aeca334.js"><link rel="prefetch" href="/myBlog/assets/js/77.0d440ed9.js"><link rel="prefetch" href="/myBlog/assets/js/78.2434dedb.js"><link rel="prefetch" href="/myBlog/assets/js/79.29f4f329.js"><link rel="prefetch" href="/myBlog/assets/js/8.c5336147.js"><link rel="prefetch" href="/myBlog/assets/js/80.c5e95066.js"><link rel="prefetch" href="/myBlog/assets/js/81.75fc2091.js"><link rel="prefetch" href="/myBlog/assets/js/82.e82c92fb.js"><link rel="prefetch" href="/myBlog/assets/js/83.4c52114d.js"><link rel="prefetch" href="/myBlog/assets/js/84.1726c5eb.js"><link rel="prefetch" href="/myBlog/assets/js/85.f2010794.js"><link rel="prefetch" href="/myBlog/assets/js/86.51c645b1.js"><link rel="prefetch" href="/myBlog/assets/js/87.255b1853.js"><link rel="prefetch" href="/myBlog/assets/js/88.5eb49ebc.js"><link rel="prefetch" href="/myBlog/assets/js/89.823afe40.js"><link rel="prefetch" href="/myBlog/assets/js/90.97e08560.js"><link rel="prefetch" href="/myBlog/assets/js/91.6d85d206.js"><link rel="prefetch" href="/myBlog/assets/js/92.3e9327c8.js"><link rel="prefetch" href="/myBlog/assets/js/93.aa1520cd.js"><link rel="prefetch" href="/myBlog/assets/js/94.75b55830.js"><link rel="prefetch" href="/myBlog/assets/js/95.84080a60.js"><link rel="prefetch" href="/myBlog/assets/js/96.3c8eaa6f.js"><link rel="prefetch" href="/myBlog/assets/js/97.ac859fc6.js"><link rel="prefetch" href="/myBlog/assets/js/98.7694e2bb.js"><link rel="prefetch" href="/myBlog/assets/js/99.83760907.js">
    <link rel="stylesheet" href="/myBlog/assets/css/0.styles.a0db8047.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myBlog/" class="home-link router-link-active"><img src="/myBlog/assets/img/logo.jpg" alt="阿离王-前端分享" class="logo"> <span class="site-name can-hide">阿离王-前端分享</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myBlog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/myBlog/about.html" class="nav-link">
  关于我
</a></div><div class="nav-item"><a href="http://ebook.wanggege.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端基础电子书
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/347830076/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/myBlog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/myBlog/about.html" class="nav-link">
  关于我
</a></div><div class="nav-item"><a href="http://ebook.wanggege.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端基础电子书
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/347830076/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/myBlog/" aria-current="page" class="sidebar-link">首页</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/myBlog/css/" class="sidebar-heading clickable"><span>css</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myBlog/javascript/" class="sidebar-heading clickable"><span>javascript</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>typescript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myBlog/react/" class="sidebar-heading clickable"><span>react</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myBlog/components/" class="sidebar-heading clickable"><span>组件使用教程</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>node技巧</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/myBlog/npm/" class="sidebar-heading clickable"><span>npm</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>工具栏</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myBlog/tool/nvm.html" class="sidebar-link">nvm 管理node版本</a></li><li><a href="/myBlog/tool/n.html" class="sidebar-link">n管理node版本</a></li><li><a href="/myBlog/tool/nrm.html" class="sidebar-link">nrm 管理npm源</a></li><li><a href="/myBlog/tool/git.html" class="sidebar-link">git常用命令</a></li><li><a href="/myBlog/tool/sshkey.html" class="sidebar-link">如何生成SSH key</a></li><li><a href="/myBlog/tool/mtp.html" class="sidebar-link">mtp.js压缩图片的使用方法</a></li><li><a href="/myBlog/tool/githook.html" class="sidebar-link">git hook 自动部署</a></li><li><a href="/myBlog/tool/husky-githook.html" class="sidebar-link">项目中使用husky统一管理git-hooks,实现git commit之前校验eslint</a></li><li><a href="/myBlog/tool/vscode.html" class="sidebar-link">vscode提高开发插件</a></li><li><a href="/myBlog/tool/谷歌插件.html" class="sidebar-link">谷歌实用插件</a></li><li><a href="/myBlog/tool/jest单元测试.html" class="sidebar-link">Jest测试框架的使用</a></li><li><a href="/myBlog/tool/docker.html" class="sidebar-link">docker使用</a></li><li><a href="/myBlog/tool/gitlab-ci.html" class="sidebar-link">gitlab-ci</a></li><li><a href="/myBlog/tool/svgo.html" class="sidebar-link">svgo 压缩</a></li><li><a href="/myBlog/tool/vscode-plugin.html" aria-current="page" class="active sidebar-link">vscode 扩展开发</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/tool/vscode-plugin.html#安装依赖" class="sidebar-link">安装依赖</a></li><li class="sidebar-sub-header"><a href="/myBlog/tool/vscode-plugin.html#项目初始化" class="sidebar-link">项目初始化</a></li><li class="sidebar-sub-header"><a href="/myBlog/tool/vscode-plugin.html#package-json" class="sidebar-link">package.json</a></li><li class="sidebar-sub-header"><a href="/myBlog/tool/vscode-plugin.html#extension-js文件" class="sidebar-link">extension.js文件</a></li><li class="sidebar-sub-header"><a href="/myBlog/tool/vscode-plugin.html#实战" class="sidebar-link">实战</a></li><li class="sidebar-sub-header"><a href="/myBlog/tool/vscode-plugin.html#发布" class="sidebar-link">发布</a></li></ul></li><li><a href="/myBlog/tool/badge.html" class="sidebar-link">项目上使用微标</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>规范</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>资源分享</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>实用例子</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vscode-扩展开发"><a href="#vscode-扩展开发" class="header-anchor">#</a> vscode 扩展开发</h1> <h2 id="安装依赖"><a href="#安装依赖" class="header-anchor">#</a> 安装依赖</h2> <p>官方为了方便开发人员进行vscode插件的开发，提供了对yo应的脚手架来生成对应的项目。<a href="https://code.visualstudio.com/api/get-started/your-first-extension" target="_blank" rel="noopener noreferrer">vscode 扩展开发官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 全局安装需要的包</span>
npm install <span class="token operator">-</span>g yo generator<span class="token operator">-</span>code

</code></pre></div><p>在 mac 安装失败，报错没有权限 <code>permission denied</code> 字眼的时候，可以加 <code>sudo</code> 来授权</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 全局安装需要的包</span>
sudo npm install <span class="token operator">-</span>g yo generator<span class="token operator">-</span>code
</code></pre></div><blockquote><p>上述命令其实安装了两个包（<code>yo</code> 和 <code>generator-code</code>)，这两个包用途如下：</p></blockquote> <div class="language- extra-class"><pre><code>yo模块全局安装后就安装了Yeoman，Yeoman是通用型项目脚手架工具，可以根据一套模板，生成一个对应的项目结构
generator-code模块是VS Code扩展生成器，与yo配合使用才能构建项目。
</code></pre></div><h2 id="项目初始化"><a href="#项目初始化" class="header-anchor">#</a> 项目初始化</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 运行</span>
yo code
</code></pre></div><p>执行 yo code之后，会有下面几个选项：</p> <img src="/myBlog/assets/img/tool/vscode/1.png" class="zoom-custom-imgs"> <ul><li>? What type of extension do you want to create(您想要创建什么类型的扩展?)? New Extension (<code>JavaScript</code>)</li> <li>? What's the name of your extension(你的分机名是什么，也就是项目名)? <code>hello</code></li> <li>? What's the identifier of your extension（你的扩展的标识符是什么）? <code>hello</code></li> <li>? What's the description of your extension（什么是您的扩展的描述）? <code>learn vscode plugin</code></li> <li>? Enable JavaScript type checking in 'jsconfig.json'（在'jsconfig.json'中启用JavaScript类型检查）? <code>Yes</code></li> <li>? Initialize a git repository（初始化一个git仓库）? <code>Yes</code></li> <li>? bundel the source code with webpack (是否用webpack打包源码)？ <code>Yes</code></li> <li>? Which package manager to use（使用哪个包管理器）? <code>npm</code></li></ul> <p>上面标红的是我的选择</p> <p>在项目生成之后，目录结构如下所示</p> <img src="/myBlog/assets/img/tool/vscode/2.png" class="zoom-custom-imgs"> <p>然后，在编辑器中，按<code>F5</code>。这将在新的扩展开发主机窗口中编译和运行扩展。</p> <p>在新窗口中从命令面板 ( shift + win + p )运行<code>Hello World</code>命令：</p> <p>您 vscode 界面会看到<code>Hello World from HelloWorld!</code>显示的通知。成功！</p> <p>在项目生成之后，其中<strong>最重要的文件</strong>是<code>package.json</code>和<code>extension.js</code>，了解这两个文件基本上就可以入门开发一个vscode插件了。</p> <h2 id="package-json"><a href="#package-json" class="header-anchor">#</a> package.json</h2> <p>该文件是vscode扩展的清单文件，里面有很多字段，<a href="https://code.visualstudio.com/api/references/extension-manifest" target="_blank" rel="noopener noreferrer">官方<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>对每个字段都进行了详细阐述，本次我们重点阐述以下初始化后期清单文件。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 插件名</span>
    <span class="token string-property property">&quot;displayName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 显示在应用市场的名字</span>
    <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;learn vscode plugin&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 具体描述</span>
    <span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 插件的版本号</span>
    <span class="token string-property property">&quot;publisher&quot;</span><span class="token operator">:</span> <span class="token string">&quot;aliwang&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 发布publisher账户名</span>
    <span class="token string-property property">&quot;engines&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;vscode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.60.0&quot;</span> <span class="token comment">// 最低支持的vscode版本</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;categories&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;Other&quot;</span> <span class="token comment">// 扩展类别</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 激活事件组，在那些事件情况下被激活</span>
    <span class="token string-property property">&quot;activationEvents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;onCommand:hello.helloWorld&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 插件的主入口文件</span>
    <span class="token string-property property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./extension.js&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// 贡献点</span>
    <span class="token string-property property">&quot;contributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 命令</span>
        <span class="token string-property property">&quot;commands&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token string-property property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hello.helloWorld&quot;</span><span class="token punctuation">,</span>
                <span class="token string-property property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hello World&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint .&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;pretest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm run lint&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node ./test/runTest.js&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 开发依赖项</span>
    <span class="token string-property property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token string-property property">&quot;@types/vscode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.63.0&quot;</span><span class="token punctuation">,</span>
		<span class="token string-property property">&quot;@types/glob&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.1.4&quot;</span><span class="token punctuation">,</span>
		<span class="token string-property property">&quot;@types/mocha&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^9.0.0&quot;</span><span class="token punctuation">,</span>
		<span class="token string-property property">&quot;@types/node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;14.x&quot;</span><span class="token punctuation">,</span>
		<span class="token string-property property">&quot;eslint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.1.0&quot;</span><span class="token punctuation">,</span>
		<span class="token string-property property">&quot;glob&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.1.7&quot;</span><span class="token punctuation">,</span>
		<span class="token string-property property">&quot;mocha&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^9.1.3&quot;</span><span class="token punctuation">,</span>
		<span class="token string-property property">&quot;typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.4.4&quot;</span><span class="token punctuation">,</span>
		<span class="token string-property property">&quot;@vscode/test-electron&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.6.2&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div> <p>在这<code>package.json</code>文件中，重点关注的主要有三部分内容：<code>activationEvents</code>、<code>main</code>以及<code>contributes</code>，其是整个文件中的重中之重。</p> <h3 id="main"><a href="#main" class="header-anchor">#</a> main</h3> <p>指明了该插件的主入口在哪，只有找到主入口整个项目才能正常的运转</p> <h3 id="activationevents"><a href="#activationevents" class="header-anchor">#</a> activationEvents</h3> <p>指明该插件在何种情况下才会被激活，因为只有激活后插件才能被正常使用，官网已经指明了<a href="https://code.visualstudio.com/api/references/activation-events" target="_blank" rel="noopener noreferrer">激活的时机<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，这样我们就可以按需设置对应时机。（具体每个时机用的时候详细查看即可）</p> <ul><li>onLanguage 打开解析为特定语言文件时被激活，例如&quot;onLanguage:python&quot;</li> <li>onCommand 在调用命令时被激活</li> <li>onDebug 在启动调试话之前被激活
<ul><li>onDebugInitialConfigurations</li> <li>onDebugResolve</li></ul></li> <li>workspaceContains 每当打开文件夹并且该文件夹包含至少一个与 glob 模式匹配的文件时</li> <li>onFileSystem 每当读取来自特定方案的文件或文件夹时</li> <li>onView 每当在 VS Code 侧栏中展开指定 id 的视图</li> <li>onUri 每当打开该扩展的系统范围的 Uri 时</li> <li>onWebviewPanel</li> <li>onCustomEditor</li> <li>onAuthenticationRequest</li></ul> <ul><li>只要一启动vscode，插件就会被激活</li></ul> <ul><li>onStartupFinished</li></ul> <h3 id="contributes"><a href="#contributes" class="header-anchor">#</a> contributes</h3> <p>通过扩展注册contributes用来扩展Visual Studio Code中的各项技能，其有多个配置，如下所示：</p> <ul><li>breakpoints 断点</li> <li>colors 主题颜色</li> <li>commands 命令</li> <li>configuration 配置</li> <li>configurationDefaults 默认的特定于语言的编辑器配置</li> <li>customEditors 自定义编辑器</li> <li>debuggers</li> <li>grammars</li> <li>iconThemes</li> <li>jsonValidation</li> <li>keybindings 快捷键绑定</li> <li>languages</li> <li>menus</li> <li>problemMatchers</li> <li>problemPatterns</li> <li>productIconThemes</li> <li>resourceLabelFormatters</li> <li>snippets 特定语言的片段</li> <li>submenus</li> <li>taskDefinitions</li> <li>themes 颜色主题</li> <li>typescriptServerPlugins</li> <li>views</li> <li>viewsContainers</li> <li>viewsWelcome</li> <li>walkthroughs</li></ul> <h2 id="extension-js文件"><a href="#extension-js文件" class="header-anchor">#</a> extension.js文件</h2> <p>该文件时其入口文件，即 <code>package.json</code> 中 <code>main</code> 字段对应的文件（不一定叫extension.js这个名字），该文件中将导出两个方法：<code>activate</code>和<code>deactivate</code>，两个方法的执行时机如下所示：</p> <h3 id="activate"><a href="#activate" class="header-anchor">#</a> activate</h3> <p>这是插件被激活时执行的函数</p> <h3 id="deactivate"><a href="#deactivate" class="header-anchor">#</a> deactivate</h3> <p>这是插件被销毁时调用的方法，比如释放内存等。</p> <h2 id="实战"><a href="#实战" class="header-anchor">#</a> 实战</h2> <p>上述已经对vscode插件有了基础的认识，下面就进行一个简单的实战，打造属于自己的一个vscode插件，此插件的功能如下：</p> <ul><li><ol><li>通过在文件编辑区域或文件名上右击弹出按钮，点击按钮获取文件的大小、创建时间和修改时间；</li></ol></li> <li><ol start="2"><li>如果获取的是文件夹，则指明该文件是文件夹，不是文件，给予提示。</li></ol></li></ul> <h3 id="package-json-修改项"><a href="#package-json-修改项" class="header-anchor">#</a> package.json 修改项</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token comment">// ……</span>
    <span class="token comment">// 在getFileState指令下激活</span>
    <span class="token property">&quot;activationEvents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;onCommand:getFileState&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 入口文件</span>
    <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./extension.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 命令</span>
        <span class="token property">&quot;commands&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;getFileState&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;File State&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment">// 菜单项</span>
        <span class="token property">&quot;menus&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 编辑上下文菜单</span>
            <span class="token property">&quot;editor/context&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;when&quot;</span><span class="token operator">:</span> <span class="token string">&quot;editorFocus&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;getFileState&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;group&quot;</span><span class="token operator">:</span> <span class="token string">&quot;navigation&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token comment">// 资源管理器上下文菜单</span>
            <span class="token property">&quot;explorer/context&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;getFileState&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;group&quot;</span><span class="token operator">:</span> <span class="token string">&quot;navigation&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ……</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="extension-js-主函数内容"><a href="#extension-js-主函数内容" class="header-anchor">#</a> extension.js 主函数内容</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> vscode <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vscode'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'插件已经被激活'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 注册命令</span>
    <span class="token keyword">let</span> commandOfGetFileState <span class="token operator">=</span> vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">'getFileState'</span><span class="token punctuation">,</span> <span class="token parameter">uri</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 文件路径</span>
        <span class="token keyword">const</span> filePath <span class="token operator">=</span> uri<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fs<span class="token punctuation">.</span><span class="token function">stat</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showErrorMessage</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">获取文件时遇到错误了</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!!!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>stats<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showWarningMessage</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">检测的是文件夹，不是文件，请重新选择！！！</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>stats<span class="token punctuation">.</span><span class="token function">isFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> size <span class="token operator">=</span> stats<span class="token punctuation">.</span>size<span class="token punctuation">;</span>
                <span class="token keyword">const</span> createTime <span class="token operator">=</span> stats<span class="token punctuation">.</span>birthtime<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">const</span> modifyTime <span class="token operator">=</span> stats<span class="token punctuation">.</span>mtime<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showInformationMessage</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
                    文件大小为:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>size<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">字节;
                    文件创建时间为:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>createTime<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
                    文件修改时间为:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>modifyTime<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
                </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">modal</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">const</span> stats <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">statSync</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'stats'</span><span class="token punctuation">,</span> stats<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'isFile'</span><span class="token punctuation">,</span> stats<span class="token punctuation">.</span><span class="token function">isFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 将命令放入其上下文对象中，使其生效</span>
    context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>commandOfGetFileState<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    activate<span class="token punctuation">,</span>
    deactivate
<span class="token punctuation">}</span>
</code></pre></div><img src="/myBlog/assets/img/tool/vscode/3.gif" class="zoom-custom-imgs"> <h2 id="发布"><a href="#发布" class="header-anchor">#</a> 发布</h2> <p>插件看法完毕之后就是需要分享出去供大家使用，目前有三种方式：</p> <ul><li><ol><li>直接把文件夹发给别人，让别人找到vscode的插件存放目录并放进去，然后重启vscode，一般不推荐；</li></ol></li> <li><ol start="2"><li>打包成vsix插件，然后发送给别人安装，如果你的插件涉及机密不方便发布到应用市场，可以尝试采用这种方式；</li></ol></li> <li><ol start="3"><li>注册开发者账号，发布到官网应用市场，这个发布和npm一样是不需要审核的。</li></ol></li></ul> <h3 id="打包成vsix插件"><a href="#打包成vsix插件" class="header-anchor">#</a> 打包成vsix插件</h3> <p>每一种方式都可行，并且网上也有很多教程讲述其发布方式，今天我重点讲述一下第二种，毕竟在插件这么多的情况下，很多人更乐于开发一款属于自己的专用插件或者特定自己领域使用的插件，完全没必要发布到应用市场。</p> <h4 id="安装对应的模块vsce"><a href="#安装对应的模块vsce" class="header-anchor">#</a> 安装对应的模块vsce</h4> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> i vsce -g
</code></pre></div><h4 id="利用vsce进行打包-生成对应的vsix文件"><a href="#利用vsce进行打包-生成对应的vsix文件" class="header-anchor">#</a> 利用vsce进行打包，生成对应的vsix文件</h4> <div class="language- extra-class"><pre class="language-text"><code>vsce package
</code></pre></div><p>在项目根目录执行 <code>vsce package</code> 命令之后，得到 <code>hello-0.0.1.vsix</code>文件</p> <img src="/myBlog/assets/img/tool/vscode/4.png" class="zoom-custom-imgs"> <p>然后安装插件</p> <img src="/myBlog/assets/img/tool/vscode/5.png" class="zoom-custom-imgs"> <p>安装成功，就可以直接用了</p> <img src="/myBlog/assets/img/tool/vscode/6.png" class="zoom-custom-imgs"> <h4 id="发布到vscode应用市场"><a href="#发布到vscode应用市场" class="header-anchor">#</a> 发布到vscode应用市场</h4> <p><a href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension#publishing-extensions" target="_blank" rel="noopener noreferrer">vscode官网 发布扩展文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Visual Studio Code的应用市场基于微软自己的Azure DevOps，插件的身份验证、托管和管理都是在这里。</p> <ul><li>要发布到应用市场首先得有应用市场的<code>publisher</code>账号；</li> <li>而要有发布账号首先得有<code>Azure DevOps</code>组织；</li> <li>而创建组织之前，首先得创建<code>Azure</code>账号；</li> <li>创建<code>Azure</code>账号首先得有<code>Microsoft</code>账号；</li></ul> <h4 id="注册账号"><a href="#注册账号" class="header-anchor">#</a> 注册账号</h4> <p>首先访问 <a href="https://login.live.com/" target="_blank" rel="noopener noreferrer">https://login.live.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 登录你的<code>Microsoft</code>账号，没有的先注册一个。</p> <p>登录你的<code>Microsoft</code>账号之后，按照文档在 Azure DevOps中<a href="https://docs.microsoft.com/zh-cn/azure/devops/organizations/accounts/create-organization?view=azure-devops" target="_blank" rel="noopener noreferrer">创建自己的组织<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h4 id="创建令牌"><a href="#创建令牌" class="header-anchor">#</a> 创建令牌</h4> <p>然后访问 <a href="https://aka.ms/SignupAzureDevOps" target="_blank" rel="noopener noreferrer">https://aka.ms/SignupAzureDevOps<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>进入你的组织。</p> <p>从您组织的主页，打开您的个人资料图片旁边的用户设置下拉菜单，然后选择个人访问令牌：</p> <img src="/myBlog/assets/img/tool/vscode/7.png" class="zoom-custom-imgs"> <p>在Personal Access Tokens页面上，选择<code>New Token</code>以创建新的 Personal Access Token 并设置以下详细信息：</p> <img src="/myBlog/assets/img/tool/vscode/8.png" class="zoom-custom-imgs"> <p><strong><code>创建完成token之后，一定要自己手动复制保存好，平台不会帮你保存</code></strong></p> <h4 id="创建发布账号"><a href="#创建发布账号" class="header-anchor">#</a> 创建发布账号</h4> <p>点击 <a href="https://aka.ms/vscode-create-publisher" target="_blank" rel="noopener noreferrer">https://aka.ms/vscode-create-publisher<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 去创建publisher账号</p> <p>创建成功后，用 <code>vsce login your-publisher-name</code> 来登录。 登录成功如下：</p> <div class="language- extra-class"><pre class="language-text"><code>hello git:(master) ✗ vsce login aliwang
https://marketplace.visualstudio.com/manage/publishers/
Personal Access Token for publisher 'aliwang': ****************************************************

The Personal Access Token verification succeeded for the publisher 'aliwang'.
</code></pre></div><blockquote><p>注意：现在不能使用vsce以下命令创建新的发布者账号了，你执行 <code>vsce create-publisher your-publisher-name</code>, 就会报下面的错误</p></blockquote> <blockquote><p>ERROR  The 'create-publisher' command is no longer available. You can create a publisher directly in the Marketplace: https://aka.ms/vscode-create-publisher</p></blockquote> <h4 id="发布应用"><a href="#发布应用" class="header-anchor">#</a> 发布应用</h4> <ul><li><ol><li>全局下载 <code>npm install -g vsce</code></li></ol></li> <li><ol start="2"><li>项目打包 <code>vsce package</code> （执行完打包命令会发现项目多了一个.vsix文件）</li></ol></li> <li><ol start="3"><li>登录 <code>vsce login your-publisher-name</code> （用上面创建的名称, 会提示你输入token，自己复制上面创建的token就可以了）</li></ol></li> <li><ol start="4"><li>项目发布 <code>vsce publish</code> (成功之后会弹出一个http链接，等上几分钟之后就可以去点击链接查看你发布的插件啦。或者去商店立搜索就可以啦！)</li></ol></li></ul> <p>根据上面步骤走，发布成功后大概需要过几分钟才能在应用市场搜到。过几分钟就可以访问网页版的插件主页：<a href="https://marketplace.visualstudio.com/manage/publishers" target="_blank" rel="noopener noreferrer">https://marketplace.visualstudio.com/manage/publishers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="发布注意事项"><a href="#发布注意事项" class="header-anchor">#</a> 发布注意事项</h4> <ul><li>README.md 文件默认会显示在插件主页；</li> <li>README.md 中的资源必须全部是HTTPS的，如果是HTTP会发布失败；</li> <li>CHANGELOG.md 会显示在变更选项卡；</li> <li>如果代码是放在git仓库并且设置了repository字段，发布前必须先提交git，否则会提示Git working directory not clean；</li></ul> <h4 id="这里在发布时有几个常见错误"><a href="#这里在发布时有几个常见错误" class="header-anchor">#</a> 这里在发布时有几个常见错误：</h4> <h4 id="错误1-如前面所说-如果organization没有选择all-accessible-organizations-或者scopes没有选择full-access-发布的时候可能会报如下错误"><a href="#错误1-如前面所说-如果organization没有选择all-accessible-organizations-或者scopes没有选择full-access-发布的时候可能会报如下错误" class="header-anchor">#</a> 错误1：如前面所说，如果<code>Organization</code>没有选择<code>all accessible organizations</code>，或者<code>Scopes</code>没有选择<code>Full access</code>，发布的时候可能会报如下错误：</h4> <div class="language- extra-class"><pre class="language-text"><code>Error: Failed Request: Unauthorized(401) - https://marketplace.visualstudio.com/_apis/gallery
Be sure to use a Personal Access Token which has access to **all accessible accounts**.
See https://code.visualstudio.com/docs/tools/vscecli#_common-questions for more information.
</code></pre></div><h4 id="错误2-error-missing-publisher-name-learn-more-https-code-visualstudio-com"><a href="#错误2-error-missing-publisher-name-learn-more-https-code-visualstudio-com" class="header-anchor">#</a> 错误2：Error:Missing publisher name. Learn more:https://code.visualstudio.com...</h4> <p>解决方式：在<code>package.json</code>中将刚刚创建好的发布账号配置进去<code>&quot;publisher&quot;:&quot;your name&quot;</code>,</p> <h4 id="错误3-error-make-sure-to-edit-the-readme-md-file-before-you-publish-your-extension"><a href="#错误3-error-make-sure-to-edit-the-readme-md-file-before-you-publish-your-extension" class="header-anchor">#</a> 错误3：Error:Make sure to edit the README.md file before you publish your extension</h4> <p>解决方式：看下README.md文件中是否有http地址</p> <h4 id="错误4-a-repository-field-is-missing-from-the-package-josn-manifest-file-do-you-want-to-continue-y-n"><a href="#错误4-a-repository-field-is-missing-from-the-package-josn-manifest-file-do-you-want-to-continue-y-n" class="header-anchor">#</a> 错误4：A ‘repository’field is missing from the 'package.josn' manifest file .Do you want to continue? [y/n]</h4> <p>解决方式：y</p> <h4 id="增量发布"><a href="#增量发布" class="header-anchor">#</a> 增量发布</h4> <p>版本号：<code>major.minor.patch</code></p> <p>如果想让发布之后版本号的<code>patch</code>自增，例如：<code>1.0.2 -&gt; 1.0.3</code>，可以这样：</p> <div class="language- extra-class"><pre class="language-text"><code>vsce publish patch
</code></pre></div><p>执行这个命令后会自动修改<code>package.json</code>里面的版本号。同理，<code>vsce publish minor</code>也是可以的。</p> <h4 id="更新发布"><a href="#更新发布" class="header-anchor">#</a> 更新发布</h4> <p>如果修改了插件代码想要重新发布，只需要<code>修改版本号</code>然后重新执行<code>vsce publish</code>即可。</p> <h4 id="取消发布"><a href="#取消发布" class="header-anchor">#</a> 取消发布</h4> <div class="language- extra-class"><pre class="language-text"><code>vsce unpublish (publisher name).(extension name)
</code></pre></div><h4 id="插件升级"><a href="#插件升级" class="header-anchor">#</a> 插件升级</h4> <ul><li>如果发布到了应用市场，那么一般来说会自动检测有没有新版本，有的话会自动无感知升级，但具体什么时候会去检测我还没有研究过，已经确定的是在扩展面板搜索插件名字会自动检测，重启vscode也会检测。</li> <li>如果是打包成vsix，本地安装，那么只能自己实现升级检测功能呢，通过对比服务器上某个文件的版本号，具体我就不细讲了。</li></ul> <p>参考文章：</p> <p><a href="https://segmentfault.com/a/1190000040720760" target="_blank" rel="noopener noreferrer">从0到1开发一款自己的vscode插件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.cnblogs.com/liuxianan/p/vscode-plugin-publish.html" target="_blank" rel="noopener noreferrer">VSCode插件开发全攻略（十）打包、发布、升级<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://segmentfault.com/a/1190000017279102" target="_blank" rel="noopener noreferrer">VSCode插件开发梳理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2022年3月17日星期四上午10点18分</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/myBlog/tool/svgo.html" class="prev">
        svgo 压缩
      </a></span> <span class="next"><a href="/myBlog/tool/badge.html">
        项目上使用微标
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><div class="back-to-top" style="display:none;" data-v-994ac33a data-v-994ac33a><div class="back-top-container top" data-v-994ac33a><img src="/myBlog/assets/img/lufei.5fe3de8f.png" alt="路飞" title="点我返回顶部" class="diglett top" data-v-994ac33a></div></div><!----></div></div>
    <script src="/myBlog/assets/js/app.4ba5bfaa.js" defer></script><script src="/myBlog/assets/js/3.553f6c3a.js" defer></script><script src="/myBlog/assets/js/2.383a70a7.js" defer></script><script src="/myBlog/assets/js/130.7493e162.js" defer></script><script src="/myBlog/assets/js/9.8651d337.js" defer></script>
  </body>
</html>
