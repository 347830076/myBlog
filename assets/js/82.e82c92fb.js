(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{534:function(s,t,a){"use strict";a.r(t);var e=a(3),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"node设置全局命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node设置全局命令"}},[s._v("#")]),s._v(" node设置全局命令")]),s._v(" "),t("h4",{attrs:{id:"前提"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前提"}},[s._v("#")]),s._v(" 前提")]),s._v(" "),t("ul",[t("li",[s._v("电脑安装了node")]),s._v(" "),t("li",[s._v("有可以执行linux命令的终端")])]),s._v(" "),t("p",[s._v("下面我们以mac电脑来举例，window的同学，记得配置以上两个条件也是可以了的，如有小差距，就先自行谷歌检查看看什么问题")]),s._v(" "),t("p",[s._v("首先我们来个最简单的例子：")]),s._v(" "),t("h3",{attrs:{id:"执行一个hello-world脚本教程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#执行一个hello-world脚本教程"}},[s._v("#")]),s._v(" 执行一个hello world脚本教程")]),s._v(" "),t("ul",[t("li",[s._v("先创建一个hello文件， 没有后缀名的文件（当然你要写后缀名也是可以），然后里面写上如下代码")])]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'use strict'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n#"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("env node\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello world'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("解析：#!/usr/bin/env node是指本脚本是通过「/usr/bin/env」路径下的node软件运行。相当于告诉linux该文件用node软件打开。")]),s._v(" "),t("p",[s._v("'use strict';是指使用js的严格语法。")]),s._v(" "),t("p",[s._v("#!/usr/bin/env  这一行代码是你的执行node的安装目录，")]),s._v(" "),t("p",[s._v("如果你们不是这个目录， 可以用 "),t("code",[s._v("which node")]),s._v(" 命令查看你们node安装的路径，把路径替换 #!/usr/bin/env 就好")]),s._v(" "),t("p",[s._v("写完代码保存之后，"),t("strong",[s._v("记得先给这个文件权限")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("chmod 777 hello\n")])])]),t("p",[s._v("chmod 777 是给hello文件最高权限，可读可写 想要了解更多的chmod的操作，自行谷歌了解哈")]),s._v(" "),t("p",[s._v("给完文件权限后，在终端执行")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("./hello\n")])])]),t("p",[s._v("终端就会打印出hello world了， 恭喜你，最简单的脚本命令执行完成")]),s._v(" "),t("p",[s._v("如果你没有给权限，就执行命令，就会报错 "),t("code",[s._v("zsh: permission denied: ./hello")]),s._v(", 英语好的同学也知道，这个告诉你木有权限")]),s._v(" "),t("p",[s._v("所有每次写了脚本文件，记得 chmod 777 一下， 很容易忘记的，就知道报错没有权限的时候，来chmod就好")]),s._v(" "),t("p",[s._v("这里我们是要用路径 ./hello 才能执行hello文件里面的代码， 如果在其他目录下，就不行了，")]),s._v(" "),t("p",[s._v("如果我们想要hello 这样全局的命令执行这个hello 文件呢， 该怎么做呢？")]),s._v(" "),t("h3",{attrs:{id:"全局自定义命令设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#全局自定义命令设置"}},[s._v("#")]),s._v(" 全局自定义命令设置")]),s._v(" "),t("p",[s._v("其实原理很简单:将Linux的全局命令搜索路径，加上脚本所在文件夹的路径。")]),s._v(" "),t("h4",{attrs:{id:"找到终端配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#找到终端配置文件"}},[s._v("#")]),s._v(" 找到终端配置文件")]),s._v(" "),t("ul",[t("li",[s._v("终端配置文件默认路径为「/User/用户名」 （也可以直接在终端输入 "),t("code",[s._v("cd ~")]),s._v("），在输入 "),t("code",[s._v("ls -a")])]),s._v(" "),t("li",[t("a",{attrs:{href:"https://jingyan.baidu.com/article/fdffd1f8f546f5b3e98ca188.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("怎么让mac苹果电脑访达显示用户文件夹"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("原配终端为bash，对应配置文件为「.bash.rc」。装了zsh终端的同学，对应修改「.zsh.rc」")]),s._v(" "),t("li",[s._v("解析：.rc文件为终端的配置文件，在重启终端，或者新开终端tab都会读取该文件。")])]),s._v(" "),t("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/node/set.png")}}),s._v(" "),t("h4",{attrs:{id:"修改linux的全局命令搜索路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改linux的全局命令搜索路径"}},[s._v("#")]),s._v(" 修改Linux的全局命令搜索路径")]),s._v(" "),t("ul",[t("li",[s._v("打开文件"),t("code",[s._v(".zshrc")]),s._v("，加上一句 "),t("code",[s._v("export PATH=/Users/bihu/myScript:$PATH")])]),s._v(" "),t("li",[s._v("解析：在Linux中，全局命令搜索路径就是通过PATH变量保存起来的。「:」是字符串链接符的意思。类似于js中，var str = '1' + '2';中的「+」")])]),s._v(" "),t("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/node/set2.jpg")}}),s._v(" "),t("p",[t("code",[s._v("export PATH=/Users/bihu/myScript:$PATH")]),s._v(" 这一行代码记得加在 # Path to your oh-my-zsh installation.下面即可")]),s._v(" "),t("p",[t("code",[s._v("myScript")]),s._v("是怎么来的呢，就是我们要新建一个 "),t("code",[s._v("myScript 文件夹")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("touch myScript\n")])])]),t("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/node/set3.jpg")}}),s._v(" "),t("ul",[t("li",[s._v("然后我们在 "),t("code",[s._v("myScript")]),s._v("文件夹下面新建一个 "),t("code",[s._v("yu")]),s._v("文件，可以不用后缀名")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cd myScript\ntouch yu\n")])])]),t("p",[s._v("yu 文件里面写上点内容")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("'use strict';\n#!/usr/bin/env node\nconsole.log('hello world');\n")])])]),t("ul",[t("li",[s._v("记得修改脚本文件权限")])]),s._v(" "),t("p",[s._v("终端运行chmod 777 脚本文件名，如示例"),t("code",[s._v("chmod 777 yu")])]),s._v(" "),t("ul",[t("li",[s._v("重启或新建终端，执行脚本, 直接在终端输入 yu")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("yu\n")])])]),t("p",[s._v("解析：重启或新建终端是为了读取到刚修改的终端配置文件，让Linux的全局命令搜索路径生效。遍历到我们所开发的脚本。")]),s._v(" "),t("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/node/set4.png")}}),s._v(" "),t("p",[s._v("看不管在哪个目录下，都可以直接使用node全局命令 yu，来装逼了，哈哈哈，剩下的文件的脚本内容呢，靠自己发挥了")]),s._v(" "),t("p",[s._v("参考文章")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2015/05/command-line-with-node.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Node.js 命令行程序开发教程"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("a",{attrs:{href:"https://segmentfault.com/a/1190000012915226#articleHeader12",target:"_blank",rel:"noopener noreferrer"}},[s._v("如何设置node全局脚本"),t("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);